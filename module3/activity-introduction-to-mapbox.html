<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>7 Activity: Introduction to Mapbox | Module 3 Making sense of spatial data</title>
  <meta name="description" content="This is the third module in the FIT5147 Data Exploration and Visualisation unit. In this module you will learn about common graphics for showing spatial data. That is, data that is naturally associated with a geographic location or region and for which you want to explore the data taking this association into account.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="7 Activity: Introduction to Mapbox | Module 3 Making sense of spatial data" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the third module in the FIT5147 Data Exploration and Visualisation unit. In this module you will learn about common graphics for showing spatial data. That is, data that is naturally associated with a geographic location or region and for which you want to explore the data taking this association into account." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Activity: Introduction to Mapbox | Module 3 Making sense of spatial data" />
  
  <meta name="twitter:description" content="This is the third module in the FIT5147 Data Exploration and Visualisation unit. In this module you will learn about common graphics for showing spatial data. That is, data that is naturally associated with a geographic location or region and for which you want to explore the data taking this association into account." />
  

<meta name="author" content="Kimbal Marriott">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="activity-leaflet-with-r.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Module 3 Making sense of spatial data</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Making sense of spatial data: Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#aims-of-this-module"><i class="fa fa-check"></i><b>1.1</b> Aims of this module</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-study-for-this-module"><i class="fa fa-check"></i><b>1.2</b> How to study for this module</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html"><i class="fa fa-check"></i><b>2</b> How to design a data map</a><ul>
<li class="chapter" data-level="2.1" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#scale-and-generalisation"><i class="fa fa-check"></i><b>2.1</b> Scale and generalisation</a></li>
<li class="chapter" data-level="2.2" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#coordinate-system"><i class="fa fa-check"></i><b>2.2</b> Coordinate system</a></li>
<li class="chapter" data-level="2.3" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#map-projections"><i class="fa fa-check"></i><b>2.3</b> Map projections</a></li>
<li class="chapter" data-level="2.4" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#choice-of-data-map"><i class="fa fa-check"></i><b>2.4</b> Choice of data map</a><ul>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#choropleth-and-prism"><i class="fa fa-check"></i>Choropleth and prism</a></li>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#dot-density"><i class="fa fa-check"></i>Dot density</a></li>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#proportional-symbol"><i class="fa fa-check"></i>Proportional symbol</a></li>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#contour-isarithmic-three-dimensional-maps"><i class="fa fa-check"></i>Contour (isarithmic) &amp; three-dimensional maps</a></li>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#cartograms"><i class="fa fa-check"></i>Cartograms</a></li>
<li class="chapter" data-level="" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#flow-maps"><i class="fa fa-check"></i>Flow maps</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#choice-of-classes"><i class="fa fa-check"></i><b>2.5</b> Choice of classes</a></li>
<li class="chapter" data-level="2.6" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#aggregation-and-clustering"><i class="fa fa-check"></i><b>2.6</b> Aggregation and clustering</a></li>
<li class="chapter" data-level="2.7" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#spatial-autocorrelation"><i class="fa fa-check"></i><b>2.7</b> Spatial autocorrelation</a></li>
<li class="chapter" data-level="2.8" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#multivariate-visualisation"><i class="fa fa-check"></i><b>2.8</b> Multivariate visualisation</a></li>
<li class="chapter" data-level="2.9" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#uncertainty"><i class="fa fa-check"></i><b>2.9</b> Uncertainty</a></li>
<li class="chapter" data-level="2.10" data-path="how-to-design-a-data-map.html"><a href="how-to-design-a-data-map.html#summary"><i class="fa fa-check"></i><b>2.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="overview-of-tools-for-creating-data-maps.html"><a href="overview-of-tools-for-creating-data-maps.html"><i class="fa fa-check"></i><b>3</b> Overview of tools for creating data maps</a><ul>
<li class="chapter" data-level="3.1" data-path="overview-of-tools-for-creating-data-maps.html"><a href="overview-of-tools-for-creating-data-maps.html#gis"><i class="fa fa-check"></i><b>3.1</b> GIS</a></li>
<li class="chapter" data-level="3.2" data-path="overview-of-tools-for-creating-data-maps.html"><a href="overview-of-tools-for-creating-data-maps.html#gis-tools-resources"><i class="fa fa-check"></i><b>3.2</b> GIS tools &amp; resources</a></li>
<li class="chapter" data-level="3.3" data-path="overview-of-tools-for-creating-data-maps.html"><a href="overview-of-tools-for-creating-data-maps.html#gis-data-formats"><i class="fa fa-check"></i><b>3.3</b> GIS data formats</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html"><i class="fa fa-check"></i><b>4</b> Activity: Maps &amp; data with R</a><ul>
<li class="chapter" data-level="4.1" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#spatial-visualization-with-r-aka-maps"><i class="fa fa-check"></i><b>4.1</b> Spatial Visualization with R AKA maps</a><ul>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#location-location-location"><i class="fa fa-check"></i>Location, location, location</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#latitude-longitude"><i class="fa fa-check"></i>Latitude &amp; longitude</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#google-maps"><i class="fa fa-check"></i>Google Maps</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#try-some-projections"><i class="fa fa-check"></i>Try some projections</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#x-marker-on-the-map"><i class="fa fa-check"></i>‘X’ marker on the map</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#label-the-map"><i class="fa fa-check"></i>Label the map</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#data-on-a-map-using-quick-map-plot"><i class="fa fa-check"></i>Data on a map using quick map plot</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#choropleth-map"><i class="fa fa-check"></i>Choropleth Map</a></li>
<li class="chapter" data-level="" data-path="activity-maps-data-with-r.html"><a href="activity-maps-data-with-r.html#flow-map"><i class="fa fa-check"></i>Flow Map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="activity-shape-files-maps-with-r.html"><a href="activity-shape-files-maps-with-r.html"><i class="fa fa-check"></i><b>5</b> Activity: Shape files &amp; maps with R</a><ul>
<li class="chapter" data-level="" data-path="activity-shape-files-maps-with-r.html"><a href="activity-shape-files-maps-with-r.html#shapefiles"><i class="fa fa-check"></i>Shapefiles</a></li>
<li class="chapter" data-level="" data-path="activity-shape-files-maps-with-r.html"><a href="activity-shape-files-maps-with-r.html#lets-do-a-shape-file-on-a-map"><i class="fa fa-check"></i>Let’s do a shape file on a map</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="activity-leaflet-with-r.html"><a href="activity-leaflet-with-r.html"><i class="fa fa-check"></i><b>6</b> Activity: Leaflet with R</a><ul>
<li class="chapter" data-level="6.1" data-path="activity-leaflet-with-r.html"><a href="activity-leaflet-with-r.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="activity-leaflet-with-r.html"><a href="activity-leaflet-with-r.html#marker"><i class="fa fa-check"></i><b>6.2</b> Marker</a></li>
<li class="chapter" data-level="6.3" data-path="activity-leaflet-with-r.html"><a href="activity-leaflet-with-r.html#choropleth-map-1"><i class="fa fa-check"></i><b>6.3</b> Choropleth Map</a></li>
<li class="chapter" data-level="6.4" data-path="activity-leaflet-with-r.html"><a href="activity-leaflet-with-r.html#work-with-shiny"><i class="fa fa-check"></i><b>6.4</b> Work with Shiny</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html"><i class="fa fa-check"></i><b>7</b> Activity: Introduction to Mapbox</a><ul>
<li class="chapter" data-level="7.1" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#what-is-mapbox"><i class="fa fa-check"></i><b>7.1</b> What is MapBox?</a></li>
<li class="chapter" data-level="7.2" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#what-do-i-need-to-do"><i class="fa fa-check"></i><b>7.2</b> What do I need to do?</a></li>
<li class="chapter" data-level="7.3" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#how-do-i-sign-up"><i class="fa fa-check"></i><b>7.3</b> How do I sign up?</a></li>
<li class="chapter" data-level="7.4" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#mapbox-studio-intro"><i class="fa fa-check"></i><b>7.4</b> Mapbox Studio Intro</a></li>
<li class="chapter" data-level="7.5" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#exercises"><i class="fa fa-check"></i><b>7.5</b> Exercises</a><ul>
<li class="chapter" data-level="" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#a-create-a-customized-map"><i class="fa fa-check"></i>5.1a Create a customized map</a></li>
<li class="chapter" data-level="" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#b-create-a-customized-map-using-cartogram"><i class="fa fa-check"></i>5.1b Create a customized map using Cartogram</a></li>
<li class="chapter" data-level="" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#a-work-with-your-data"><i class="fa fa-check"></i>5.2a Work with your data</a></li>
<li class="chapter" data-level="" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#b-add-the-data-points-to-your-custom-map"><i class="fa fa-check"></i>5.2b Add the data points to your custom map</a></li>
<li class="chapter" data-level="" data-path="activity-introduction-to-mapbox.html"><a href="activity-introduction-to-mapbox.html#c-make-your-pointers-interactive"><i class="fa fa-check"></i>5.2c Make your pointers interactive</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Module 3 Making sense of spatial data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="activity-introduction-to-mapbox" class="section level1">
<h1><span class="header-section-number">7</span> Activity: Introduction to Mapbox</h1>
<div id="what-is-mapbox" class="section level2">
<h2><span class="header-section-number">7.1</span> What is MapBox?</h2>
<p>Founded only in 2010, Mapbox (<a href="https://www.mapbox.com" class="uri">https://www.mapbox.com</a>) has quickly become the go-to place for custom designed maps. It is currently used in mobile and web applications like snapchat, lonely planet or airbnb. Building on open data sources like OpenStreetMap and NASA it offers an easy way to create highly customised maps to present your geospatial datasets. Via an access token Mapbox maps can be integrated into a webpage (explained here) but also in <a href="https://docs.mapbox.com/help/tutorials/tableau-integration/">public tableau</a>, <a href="https://rpubs.com/walkerke/rstudio-mapbox">R applications (with leaflet)</a> or, since February 2018, into <a href="https://github.com/mapbox/mapboxgl-jupyter">Jupiter notebooks</a>.</p>
</div>
<div id="what-do-i-need-to-do" class="section level2">
<h2><span class="header-section-number">7.2</span> What do I need to do?</h2>
<p>In order to use Mapbox you have to sign up. The Pay-as-you-go plan includes 50,000 free views of your web application as well as 5GB dataset storage and 50GB tileset storage, which is way beyond what we are going to do in our exercises. You then have access to Mapbox studio, where you can load default maps or customize maps to fit to your application. You can also load geospatial datasets to add markers. With a bit of Javascript, namely the Mapbox GL JS library, you can add interactivity to your maps. In the following exercises, we will first customize a map in two ways, then work with a dataset and finally include a map in a webpage. Note that while Mapbox studio runs in your browser in order to follow along with that last part of this tutorial you need to have a code editor (e.g. <a href="https://atom.io">atom</a> or <a href="https://atom.io">brackets</a>) installed.</p>
</div>
<div id="how-do-i-sign-up" class="section level2">
<h2><span class="header-section-number">7.3</span> How do I sign up?</h2>
<ul>
<li>Go to the Mapbox webpage: <a href="https://www.mapbox.com" class="uri">https://www.mapbox.com</a></li>
<li>Click on ‘Get started for free’</li>
<li>On the new page, sign up
<br>
<img src="diagrams_datasets/section7/mapbox-01.png" /></li>
<li>Once you’re done you will see this image:
<br>
<img src="diagrams_datasets/section7/mapbox-02.png" /></li>
<li>Click on the ‘Mapbox Studio’ link to get to your home page.</li>
<li>You’re now ready to create beautiful maps!</li>
</ul>
</div>
<div id="mapbox-studio-intro" class="section level2">
<h2><span class="header-section-number">7.4</span> Mapbox Studio Intro</h2>
<p>You are now on your home page of Mapbox Studio. Should you have already signed up before the tutorial and you are now logging on you probably first landed on your Account page. You can switch to Studio on the top left. In the submenu on the top right, you can switch to Styles, Tilesets and Datasets. It is time to find out how Mapbox Studio works!</p>
<p><img src="diagrams_datasets/section7/mapbox-03.png" /></p>
<p>Under the <strong>Datasets</strong> tab you can upload your own datasets. A dataset is an editable collection of GeoJSON features. It can be either a csv or a GeoJSON file which has to contain the geographical coordinates of your data points. You can also create a new dataset, edit your data and add or delete points. The uploaded dataset needs to be exported into a tileset so it can be used as a layer on a map. We will explore the datasets tab more in Exercise 2a.
<br><br></p>
<p>Under the <strong>Tilesets</strong> tab you have access to some default tilesets but once you turn your own datasets into tilesets they will also be stored here. A tileset is a collection of raster or vector data broken up into a uniform grid of square tiles at 22 pre-set zoom levels. They are the main mechanism to determine map views (panning and zooming). We will be using the tilesets tab in Exercise 2b.
<br><br></p>
<p>The <strong>Styles</strong> tab is where most of the magic happens. A style is simply a JSON object that contains all the rules for what features to draw on the web page and how to draw them. Each layer you add to a style in the Mapbox Studio style editor is added to this JSON object via the Styles API when you save and subsequently passed to the browser when the map is requested. Once created, you can keep your style hosted with Mapbox to serve to your map or you can download the JSON object as a document.</p>
<p>So, with styles you can control almost everything about the map and change details like the fonts, colors and icons. On a somewhat more technical level a map style consists of</p>
<ul>
<li><strong>sources</strong>: links to all of the data that will be styled on the map. When creating a style with the Mapbox Studio style editor, sources are raster and vector tilesets in your Mapbox account</li>
<li><strong>sprites</strong>: a link to all of the images and icons that are used in the style</li>
<li><strong>glyphs</strong>: a link to all of the fonts that are used in the style</li>
<li><strong>layers</strong>: a list of rules for how the data in sources should be displayed on the map</li>
</ul>
<p>Enough theory for now. Let’s get cracking</p>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">7.5</span> Exercises</h2>
<div id="a-create-a-customized-map" class="section level3 unnumbered">
<h3>5.1a Create a customized map</h3>
<ul>
<li>Switch to the Styles tab and click ‘New style’. You have a number of templates to choose from. Choose ‘Basic’, call it ‘MyFirstMap’ and click ‘Create’.
<br>
<img src="diagrams_datasets/section7/mapbox-04.png" /></li>
<li>The Styles editor opens automatically. The Map shows the center of Paris. Zoom out to see a world view.</li>
<li>On the left you see the list of the layers used in this style. Let’s change a few properties!</li>
<li>Click the ‘water’ layer. In the color tab, click on the hex value (in the textbox under Set Value). Use the color picker to make the ocean a bit darker. Copy the value, click on the ‘waterway’ layer and change the color to the same hue.</li>
<li>Click on the ‘background’ layer and again use the color picker to change the color to a light orange.</li>
<li>To change the color of parks and national parks click ‘Filter layers’ and choose ‘Filter by value’, then ‘Colors’. Choose the light green color (#d2edae). This filters down to the two layers ‘landuse_park’ and ‘landuse_overlay_national_park’. Using Shift-Key, choose both. Change the color to a nice sappy green. Remove the filter.</li>
<li>So much for the colors. Go ahead and change the color of the countries outlines (admin_country), roads (road_major and road_minor) or buildings if you want to.</li>
<li>Now let’s change the country labels. Zoom out until you see the labels of countries and some major cities.</li>
<li>Go to the ‘country_label’ layer and switch the Font to ‘Open Sans Extrabold’.</li>
<li>Go to the Transform property and switch from Tt to T.</li>
<li>Try changing other properties like the letter spacing, line height or halo.</li>
<li>In Mapbox maps can also be styled according to the zoom level. This way the contrast between colors can be set different at high zoom levels and low zoom levels and the transition can be fluid. Go back to ‘background’. This time, go to ‘Color’ &gt; ‘Value options’ &gt; ‘Set value by zoom’. You’ll see that the entire zoom range (0-22) is set to your color.</li>
<li>Click on the color where Zoom level is set to 0 and choose a darker hue.</li>
<li>Add another stop. By default, the new level is set to 19. Change it to 10. Change the color to a medium hue between the others (or be adventurous and switch to an entirely different color). Zoom in and out to see the effect.</li>
<li>If you haven’t changed the buildings yet they might now look a little bland. Add a zoom to go with your other style changes. Note that buildings only show up at zoom level 15 or higher so you need to take that into account.</li>
<li>Once you’re happy with your design you can save your map creation. Click ‘Publish Style’ at the top right corner.</li>
<li>Use the slider (blue dot with arrows) to compare the default map with your own stylish map. Isn’t it beautiful!</li>
<li>Click publish. Congratulations! You just saved your first map. Find it in the Styles section of Mapbox Studio.</li>
</ul>
</div>
<div id="b-create-a-customized-map-using-cartogram" class="section level3 unnumbered">
<h3>5.1b Create a customized map using Cartogram</h3>
<p>Mapbox offers an easy and fun way to fit a map to the color values of a logo or image.</p>
<ul>
<li>Go to the Home tab. From the list on the right side, click ‘Try Cartogram’. Click on the ‘center’ icon (on the top right) and allow Mapbox to automatically zoom to your current location.</li>
<li>Download the <a href="diagrams_datasets/section7/Seal.jpeg">seal image</a>. Drag it onto the image on the bottom left corner of the browser.</li>
<li>Pretty brownish. Switch from ‘Colorful’ to ‘Light’ and ‘Dark’. Not much better. Needs some customizing!</li>
<li>Switch to ‘Custom’. On the seal image drag around the circles for water, land, building, label and road until you’re happy with the map.</li>
<li>Click on ‘Saved style!’ to get back to Mapbox studio where your new style is waiting for you.</li>
<li>Additional: Try your own image.</li>
<li>Additional: Discuss why cartogram is not a good name for this service.</li>
</ul>
</div>
<div id="a-work-with-your-data" class="section level3 unnumbered">
<h3>5.2a Work with your data</h3>
<p>Australia is big. And things are big in Australia. You could even say that big things are a thing here. It is estimated that there are about 150 ‘Big things’ to be seen on Australian roads.</p>
<p><img src="diagrams_datasets/section7/mapbox-05.png" /></p>
<p>Let’s use my personal Top Ten for the next exercise:</p>
<ul>
<li>Download the dataset <a href="diagrams_datasets/section7/BigThings.txt">BigThings.txt</a> (<strong>Please change the file name to “BigThings.geojson”</strong>).</li>
<li>In Mapbox studio go to the Datasets tab and click ‘New dataset’, then ‘Upload’</li>
<li>Drop the <strong>BigThings.geojson</strong> into the panel and confirm, then create (keep the name)</li>
<li>Click at the data you just created</li>
</ul>
<p>Now we can start editing:</p>
<ul>
<li>Let’s add another data point to the set. One pretty big thing is still missing from the map, Australia’s biggest rock. On the top right, type ‘Uluru’ into the search box, then select ‘Uluru, Uluru-Kata Tjuta National Park, Northern Territory, Australia’.</li>
<li>On the top left, click the first tab ‘Draw a point’.</li>
<li>Bring the cross hair over ‘Uluru (Ayers Rock)’ and click. A yellow dot appears. You have added a data point.</li>
<li>Now add some properties. Click ‘+ Add property’, then name the field ‘title’ and the value ‘Uluru’. Note that fields are case sensitive and you have to enter ‘title’ in lower case letters (otherwise your tooltips will not work properly later).</li>
<li>Add a second property, name the field ‘description’ and the value ‘A giant rock’</li>
<li>Then save the changes (by clicking the “Save” button on the right top).</li>
</ul>
<p><br><br></p>
<p>You’ve just saved a point to a map without downloading and installing special GIS software that might not even run on your system (ArcGIS only runs on Windows). How fantastic is that!</p>
<p><br><br></p>
<p>In this exercise we will only set a point, but note that you can also draw a line or a polygon and mark up maps just as you need it. Under ‘search dataset’ you can navigate your data points and access and change the properties you have set again. You can also export your work as a geojson file to use somewhere else.</p>
</div>
<div id="b-add-the-data-points-to-your-custom-map" class="section level3 unnumbered">
<h3>5.2b Add the data points to your custom map</h3>
<ul>
<li>Now click ‘Export’ to export your data as a tileset. This can take a little while and the notification pop up will tell you when the new tileset is uploaded.</li>
<li>You can directly click on the ‘BigThings’ tileset in notifications but you will also find it in your tilesets tab.</li>
<li>To bring your new tileset onto a map you have to create a new map first and then add a new layer with the tileset as a source.</li>
<li>Switch to Styles tab, click ‘New Style’, call the new style ‘BigThings’ and choose ‘Streets’. Create the style.
<br>
<img src="diagrams_datasets/section7/mapbox-091.png" /></li>
<li>Now click the ‘+ Layer’ button. Then, next to ‘Source’, click into the field to select your ‘BigThings’ tileset (you might need to scroll down a bit).</li>
<li>The new style shows up on a dark map by default.
<br>
<img src="diagrams_datasets/section7/mapbox-07.png" /></li>
<li>The data points are shown as Type &gt; Circle. That works, but we will change it to ‘Symbol’ so we can add an icon later. Create the layer.</li>
<li>Voila! You’ve just added your own data points to the map. They show as a new layer on top of all other layers on the list to the left.</li>
<li>Now pan and zoom to Australia. The data points are not showing on the map yet! That’s because we switched to a text field. Let’s add an icon to mark our big things.</li>
<li>If you’re not there already, click the ‘bigthings’ layer and go to ‘Style’. If you created your map with circles you can still switch to ‘Symbol’ on the ‘Select data’ tab.</li>
<li>Go to the second tab ‘Icon’ &gt; ‘Image’ and click into the text box (under ‘Value’ options).
<br>
<img src="diagrams_datasets/section7/mapbox-08.png" /></li>
<li>Note that if you click ‘Manage Icons’ you can upload your own markers in SVG format.</li>
<li>As before, click ‘Publish style’, use the slider to compare your work, then press ‘Publish’.</li>
<li>In the next pop up window, go to ‘Share, develop, and use your style’.</li>
<li>You are now back in the Styles tab. When you scroll down a little under ‘Develop with this style’ you can see a Style URL and an Access token. We will need both of them to make your map interactive in the browser in the next part.
<br>
<img src="diagrams_datasets/section7/mapbox-09.png" /></li>
</ul>
</div>
<div id="c-make-your-pointers-interactive" class="section level3 unnumbered">
<h3>5.2c Make your pointers interactive</h3>
<p>In this final part of the exercise you will</p>
<ul>
<li>show your map in a browser window</li>
<li>add tooltips to your map so it will display some information when a marker is clicked</li>
</ul>
<p>For this part, we will use a text editor to add some information to a HTML file. We will give you a proper introduction to HTML, CSS and Javascript in a later tutorial so for now just follow along with this exercise.</p>
<ul>
<li>Install a code editor if you haven’t one on your machine already. I like atom, but any editor will do. Of course, you can also use an IDE like webstorm should you be familiar with one.</li>
<li>Download the <a href="diagrams_datasets/section7/mapbox-activity-index.html">mapbox-activity-index.html</a> file.</li>
<li>Open it in your editor.</li>
<li>Now copy your access token from the Styles tab in Mapbox. You can also always find your access token on your Account page.</li>
</ul>
<p>In your text editor, replace the String (in bold) in the line</p>
<p>mapboxgl.accessToken = ‘<mark class="yellow">pk.eyJ1IjoibW9uYWxlbmEiLCJhIjoiY2l6dzFuenBzMDFvYjMyazdhcWMwd2dsMCJ9.xlKLbnrGSgAjxHLOM6JbVw</mark>’;</p>
<p>with your own access token</p>
<ul>
<li>Then copy your style URL (from the drop-down menu to the right of your style) and also replace the string ‘<mark class="yellow">your-style-URL-here</mark>’ in the line</li>
</ul>
<pre class="sourceCode javascript"><code class="sourceCode javascript">style<span class="op">:</span> <span class="st">&#39;your-style-URL-here&#39;</span> <span class="co">// replace this with your style URL</span></code></pre>
<ul>
<li>Save the file and double click to open it in a browser. You should now see the map with your markers (sometimes it takes a bit of time to load).</li>
</ul>
<p>Let’s add our tooltips.</p>
<ul>
<li>In your editor, add the following code right above the
</script>
tag</li>
<li>and replace the string ‘<mark class="yellow">layer-name-here</mark>’ with the name this layer has in your styles editor (if you followed along with this exercise it is probably ‘<mark class="yellow">bigthings</mark>’).</li>
</ul>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">map</span>.<span class="at">on</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">function</span>(e) <span class="op">{</span>
  <span class="kw">var</span> features <span class="op">=</span> <span class="va">map</span>.<span class="at">queryRenderedFeatures</span>(<span class="va">e</span>.<span class="at">point</span><span class="op">,</span> <span class="op">{</span>
    <span class="dt">layers</span><span class="op">:</span> [<span class="st">&#39;layer-name-here&#39;</span>] <span class="co">// replace this with the name of the layer</span>
  <span class="op">}</span>)<span class="op">;</span>
  <span class="cf">if</span> (<span class="op">!</span><span class="va">features</span>.<span class="at">length</span>) <span class="op">{</span>
    <span class="cf">return</span><span class="op">;</span>
  <span class="op">}</span>
  <span class="kw">var</span> feature <span class="op">=</span> features[<span class="dv">0</span>]<span class="op">;</span>
  <span class="kw">var</span> popup <span class="op">=</span> <span class="kw">new</span> <span class="va">mapboxgl</span>.<span class="at">Popup</span>(<span class="op">{</span> <span class="dt">offset</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">-15</span>] <span class="op">}</span>)
    .<span class="at">setLngLat</span>(<span class="va">feature</span>.<span class="va">geometry</span>.<span class="at">coordinates</span>)
    .<span class="at">setHTML</span>(<span class="st">&#39;&lt;h3&gt;&#39;</span> <span class="op">+</span> <span class="va">feature</span>.<span class="va">properties</span>.<span class="at">title</span> <span class="op">+</span> 
               <span class="st">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> <span class="op">+</span> 
               <span class="va">feature</span>.<span class="va">properties</span>.<span class="at">description</span> <span class="op">+</span> 
               <span class="st">&#39;&lt;/p&gt;&#39;</span>)
    .<span class="at">setLngLat</span>(<span class="va">feature</span>.<span class="va">geometry</span>.<span class="at">coordinates</span>)
    .<span class="at">addTo</span>(map)<span class="op">;</span>
<span class="op">}</span>)<span class="op">;</span></code></pre>
<ul>
<li>We are using a couple of different mapbox GL JS functions here.
<ul>
<li>The on-click function listens for a click event</li>
<li>The queryRenderedFeatures method generates a list of all points and their associated properties</li>
<li>The mapboxgl.Popup method is used to create the tooltip</li>
</ul></li>
<li>Save and refresh your browser.</li>
<li><strong>Click</strong> on a marker. Tooltips!</li>
</ul>
<p><br><br></p>
<p>This is but a brief introduction to Mapbox and there are many more things you can do with it. If you want to find out more you could</p>
<ul>
<li>Work through this 2-part tutorial on <a href="https://www.mapbox.com/help/choropleth-studio-gl-pt-1/">how to create a choropleth map</a>.</li>
<li>Consult the <a href="https://docs.mapbox.com/mapbox-gl-js/example/simple-map/">Mapbox GL JS manual</a> for more advanced browser display options.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="activity-leaflet-with-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "Module"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
